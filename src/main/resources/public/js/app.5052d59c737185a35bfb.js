webpackJsonp([1],{"4TyQ":function(t,e){},Af46:function(t,e){},"D0z+":function(t,e){},Fl9v:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){a("Fl9v")}function o(t){a("Af46")}function r(t){a("SYCA")}function s(t){a("Tpa2")}function i(t){a("4TyQ")}function c(t){a("D0z+")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("7+uW"),u={name:"app"},p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},m=[],f={render:p,staticRenderFns:m},h=f,d=a("VU/8"),v=n,_=d(u,h,!1,v,null,null),N=_.exports,g=a("/ocq"),C=a("mtWM"),b=a.n(C),$=b.a.create({baseURL:"/api",timeout:5e3}),T={name:"Menu",data:function(){return{graph:{}}},created:function(){this.fetchGraph()},methods:{fetchGraph:function(){var t=this;console.log("Fetching graph"),$.get("graph").then(function(e){t.graph=e.data}).catch(function(t){return console.log("Error : ",t)})}}},E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("router-link",{attrs:{to:{name:"Main"}}},[a("h1",[t._v("KSD")])]),t._v(" "),a("div",{staticClass:"topologyName"},[t._v(t._s(this.graph.topologyName))]),t._v(" "),a("h2",[t._v("Topics")]),t._v(" "),a("ul",{staticClass:"topics_list"},t._l(this.graph.topics,function(e){return a("li",[a("router-link",{attrs:{to:{name:"topics",params:{topicName:e}}}},[t._v(t._s(e))])],1)})),t._v(" "),a("h2",[t._v("Stores")]),t._v(" "),a("ul",{staticClass:"stores_list"},t._l(this.graph.stores,function(e){return a("li",[a("router-link",{attrs:{to:{name:"stores",params:{storeName:e}}}},[t._v(t._s(e))])],1)}))],1)},R=[],y={render:E,staticRenderFns:R},F=y,w=a("VU/8"),S=o,A=w(T,F,!1,S,null,null),U=A.exports,x={name:"Empty"},D=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty"},[a("h1",[t._v("Welcome to KSD")])])}],L={render:D,staticRenderFns:k},M=L,V=a("VU/8"),O=r,I=V(x,M,!1,O,null,null),W=I.exports,z={name:"Table",props:["storeName"],components:{},watch:{$props:{handler:function(t,e){this.fetchStoreInfo()},deep:!0}},created:function(){this.fetchStoreInfo()},methods:{fetchStoreInfo:function(){var t=this;console.log("Fetching store info"),$.get("stores/"+this.storeName).then(function(e){t.columns=t.getColumns(e.data),t.data=t.getRows(t.columns,e.data)}).catch(function(t){return console.log("Error : ",t)})},getRows:function(t,e){var a=[];for(var n in e)!function(n){var o=e[n];t.forEach(function(t){void 0===o[t.label]&&(o[t.label]="n/a")}),o.key=n,a.push(o)}(n);return a},getColumns:function(t){var e=["key"];for(var a in t){var n=t[a];for(var o in n)e.indexOf(o)<0&&e.push(o)}return e.map(function(t){return{label:t,prop:t}})}},data:function(){return{data:[],columns:[],tableOptions:[]}}},j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("h1",[t._v('STORE "'+t._s(t.storeName)+'"')]),t._v(" "),a("data-tables",{attrs:{data:t.data}},t._l(t.columns,function(t){return a("el-table-column",{attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}))],1)},q=[],G={render:j,staticRenderFns:q},H=G,K=a("VU/8"),P=s,Q=K(z,H,!1,P,null,null),Y=Q.exports,J={name:"topic",props:["topicName"]},Z=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"topic"},[t._v("\n    TOPIC DATA : "+t._s(t.topicName)+"\n")])},B=[],X={render:Z,staticRenderFns:B},tt=X,et=a("VU/8"),at=i,nt=et(J,tt,!1,at,null,null),ot=nt.exports,rt={name:"Main",components:{menuC:U,emptyC:W,storeTableC:Y,topicDataC:ot},created:function(){this.$route.params.storeName?(this.storeName=this.$route.params.storeName,console.log("Loading store data for :",this.$route.params.storeName)):this.$route.params.topicName&&(this.topicName=this.$route.params.topicName,console.log("Loading topic data for :",this.$route.params.topicName))},watch:{$route:function(t,e){t.params.storeName?(this.topicName=null,this.storeName=t.params.storeName,console.log("Loading store data for :",this.storeName)):t.params.topicName&&(this.storeName=null,this.topicName=t.params.topicName,console.log("Loading topic data for :",this.topicName))}},data:function(){return{storeName:null,topicName:null}}},st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("menuC"),t._v(" "),t.storeName?a("storeTableC",{attrs:{storeName:t.storeName}}):t.topicName?a("topicDataC",{attrs:{topicName:t.topicName}}):a("emptyC")],1)},it=[],ct={render:st,staticRenderFns:it},lt=ct,ut=a("VU/8"),pt=c,mt=ut(rt,lt,!1,pt,"data-v-06bcac4c",null),ft=mt.exports;l.default.use(g.a);var ht=new g.a({routes:[{path:"/",name:"Main",component:ft},{path:"/stores/:storeName",name:"stores",component:ft},{path:"/topics/:topicName",name:"topics",component:ft}]}),dt=a("zL8q"),vt=a.n(dt),_t=a("wUZ8"),Nt=a.n(_t),gt=a("urW8"),Ct=a.n(gt),bt=(a("tvR6"),a("tTjr")),$t=a.n(bt);l.default.config.productionTip=!1,l.default.use(vt.a),l.default.use($t.a),Ct.a.use(Nt.a),new l.default({el:"#app",router:ht,template:"<App/>",components:{App:N}})},SYCA:function(t,e){},Tpa2:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5052d59c737185a35bfb.js.map